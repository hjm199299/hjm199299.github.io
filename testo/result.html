<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-GZ5VV3MVKL"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-GZ5VV3MVKL');
    </script>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-K4JS3RFD');</script>
    <!-- End Google Tag Manager -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>에겐남테토녀</title>
    <link rel="stylesheet" href="styles/style.css">
    <script src="scripts/result.js" defer></script>
    <style>

        @font-face {
            font-family: 'Galmuri9';
            src: url('../assets/fonts/Galmuri9.ttf') format('truetype');
            src: url('../assets/fonts/Galmuri9.woff2') format('woff2');
            font-weight: normal;
            font-style: normal;
        }
        .result-container {
            width: 375px; /* 고정된 너비 */
            max-width: 100%; /* 모바일 화면에서도 적응 가능 */
            padding: 0px 20px 30px 20px;
            margin: 0 auto; /* 가운데 정렬 */
            height: auto; /* 콘텐츠 높이에 맞춤 */
            border: 1px solid #e0e0e0; /* 선택적: 디바이스 경계 표시 */
            overflow-x: hidden; /* 가로 스크롤 방지 */
            overflow-y: auto; /* 세로 스크롤 활성화 */
            box-sizing: border-box; /* 패딩 포함된 크기 계산 */
            -ms-overflow-style: none; /* IE, Edge */
            scrollbar-width: none;    /* Firefox */
        }
        body {
            padding-left: env(safe-area-inset-left);
            padding-top: calc(env(safe-area-inset-top) + 100px);
            margin: 0;
            font-family: 'Pretendard Variable', sans-serif;
            background-color: #fff; /* 필요 시 변경 가능 */
            overflow-y: scroll; /* 항상 스크롤 표시 */
            min-height: 100vh; /* 화면 최소 높이 */
        }

        .result_image {
            width: 100%;
            max-width: 375px;
            height: auto;
            object-fit: contain;
        }

        .style_image {
            width: 335px;
            height: 195px;
            object-fit: contain;
        }

        .button-container {
            display: flex; /* 플렉스 레이아웃 적용 */
            justify-content: center; /* 버튼을 가운데 정렬 */
            gap: 10px; /* 버튼 사이 간격 */
            margin-top: 24px; /* 위 콘텐츠와 간격 */
        }
        .result_button {
            width: 169px;
            height: 56px;
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: center;
            gap: 0px;
            border-radius: 100px;
            background-color: #222;
            transition: background-color 0.3s ease, transform 0.2s ease;
            font-family: 'Pretendard Variable', sans-serif;
            font-size: 20px;
            font-weight: 600;
            font-stretch: normal;
            font-style: normal;
            line-height: normal;
            letter-spacing: -0.8px;
            text-align: center;
            color: #fff;
            cursor: pointer;
        }

        .result_subtitle {
            width: 333px;
            height: 27px;
            margin: 24px 0px 10px 0px;
            font-family: GoryeongStrawberry;
            font-size: 18px;
            font-weight: normal;
            font-stretch: normal;
            font-style: normal;
            line-height: 1.5;
            letter-spacing: -0.72px;
            text-align: left;
            color: #222;
        }

        .auto-size-container {
            display: block; /* 기본 블록 요소 */
            width: 100%; /* 너비를 100%로 설정 */
            font-family: 'Pretendard Variable', sans-serif;
            font-size: 15px; /* 폰트 크기 */
            line-height: 1.5; /* 줄 간격 */
            color: #333; /* 글자 색 */
        }
        .share_button {
            width: 334px;
            height: 56px;
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: center;
            gap: 0px;
            margin: 30px 0px 100px 0px;
            border-radius: 100px;
            background-color: #222;
            transition: background-color 0.3s ease, transform 0.2s ease;
            font-family: 'Pretendard Variable', sans-serif;
            font-size: 20px;
            font-weight: 600;
            font-stretch: normal;
            font-style: normal;
            line-height: normal;
            letter-spacing: -0.8px;
            text-align: center;
            color: #fff;
        }
        .empty {
            width: 334px;
            height: 30px;
        }     
        .copy-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(0, 0, 0, 0.8);
            color: #fff;
            padding: 12px 20px;
            border-radius: 8px;
            font-family: 'Pretendard Variable', sans-serif;
            font-size: 16px;
            text-align: center;
            z-index: 9999; /* 다른 요소 위에 표시 */
            transition: opacity 0.3s ease;
        }
        .result-summary {
          width: 194px;
          height: 32px;
          display: flex;
          flex-direction: row;
          justify-content: center;
          align-items: center;
          margin: 17px 75px 18px 75px;
          padding: 5px 8px;
          border: solid 2px #333;
        }
        .summary_font{
          flex-grow: 0;
          -webkit-text-stroke: 0.5px #333;
          font-family: 'Pretendard Variable', sans-serif;
          font-size: 20px;
          font-weight: normal;
          font-stretch: normal;
          font-style: normal;
          line-height: 1.1;
          letter-spacing: 0.4px;
          text-align: center;
          color: #333;
        }

        .thread-link-wrapper {
          width: 100%;
          display: flex;
          justify-content: center;
          margin-top: 16px;
        }

        .thread-link {
          width: 245px;
          height: 19px;
          font-family: 'Pretendard Variable', sans-serif;
          font-size: 16px;
          font-weight: normal;
          letter-spacing: -0.64px;
          text-align: center;
          color: #444;
          text-decoration: none;
          display: block;
          margin: 16px auto 0 auto;
        }

        .thread-link:hover {
          text-decoration: underline;
        }
    </style>
</head>

<body data-view="result">
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K4JS3RFD"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <div class="result-container">
            <!-- 결과 화면 -->
        <div class="main-screen">
            <div class="result_head">
                <div class="btn_name_result" id="userNameDisplay"></div>
                <span class="text_suffix">님의</span>
            </div>
            <div class="result_head_2">
                <span class="text_suffix">에겐/테토 유형 결과는!</span>
            </div>
            <img id="resultImage" class="result_image" alt="결과 이미지">
            <!-- 버튼 영역 -->
            <div class="button-container">
                <button id="shareButton" class="result_button">결과 공유</button>
                <div id="copyMessage" class="copy-popup" style="display: none;">링크가 복사됐습니다!</div>
                <canvas id="resultCanvas" width="375" height="600" style="display: none;"></canvas>
                <button id="saveButton" class="result_button">이미지 저장</button>
            </div>
            <!-- 🔽 이 위치에 새 div 추가 -->
            <div class="thread-link-wrapper">
              <a href="https://www.threads.com/@egentetonamnyeo?igshid=NTc4MTIwNjQ2YQ==" class="thread-link" 
                     onclick="gtag('event', 'click_thread_result', {
                     event_category: 'link_click',
                     event_label: 'ResultPage_Threads'
                   })" target="_blank">
                에겐테토별 매력어필 tip 더 보러가기 &gt;
              </a>
            </div>
            <div class = "result_subtitle"><span>유형 설명</span></div>
            <!-- 결과 설명 -->
            <div id="resultDescription" class="auto-size-container"></div>
            <div class = "result_subtitle"><span>다른 유형과의 조화는?</span></div>
            <img id="styleImage" class="style_image" alt="결과 이미지">
            <div class = "result_subtitle"><span>매력 발산 Tip!</span></div>
            <div id="resultTip" class="auto-size-container"></div>
            <div class="share_button" id="testButton"><span class="result_button">테스트 공유하기</span></div>
            <div class="empty"></div>
        </div>
    </div>
</body>
</html>
